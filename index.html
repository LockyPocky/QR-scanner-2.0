<button id="startBtn">Начать сканирование</button>
<div id="reader" style="width:400px; height:300px;"></div>

<script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>
<script>
document.getElementById("startBtn").addEventListener("click", () => {
    const html5QrCode = new Html5Qrcode("reader"); // создаём внутри клика
    html5QrCode.start(
        { facingMode: "environment" },
        { fps: 10, qrbox: 250 },
        qrCodeMessage => console.log("QR:", qrCodeMessage),
        errorMessage => console.log("QR ошибка:", errorMessage)
    ).catch(err => alert("Ошибка запуска камеры: " + err));
});
</script>
